{"repository": {"owner": {"login": "elastic"}, "name": "elasticsearch", "forkCount": 19462, "stargazerCount": 54115, "createdAt": "2010-02-08T13:20:56Z", "updatedAt": "2021-03-18T06:45:56Z", "repositoryTopics": {"edges": [{"node": {"topic": {"name": "elasticsearch"}}}, {"node": {"topic": {"name": "java"}}}, {"node": {"topic": {"name": "search-engine"}}}]}, "languages": {"edges": [{"node": {"name": "Shell"}}, {"node": {"name": "Python"}}, {"node": {"name": "Java"}}, {"node": {"name": "HTML"}}, {"node": {"name": "Groovy"}}, {"node": {"name": "Batchfile"}}, {"node": {"name": "Emacs Lisp"}}, {"node": {"name": "FreeMarker"}}, {"node": {"name": "ANTLR"}}, {"node": {"name": "Dockerfile"}}, {"node": {"name": "CSS"}}, {"node": {"name": "PowerShell"}}, {"node": {"name": "JavaScript"}}, {"node": {"name": "Mustache"}}]}, "primaryLanguage": {"name": "Java"}}, "id": "MDU6SXNzdWU4MjE1NTgyMjY=", "number": 69934, "author": {"login": "danhermann"}, "title": "Failures in RollupActionIT.testRollupIndexAndSetNewRollupPolicy", "body": "**Build scan**: https://gradle-enterprise.elastic.co/s/4et32nzkiu5sc\r\n\r\n**Repro line**: `./gradlew ':x-pack:plugin:ilm:qa:multi-node:javaRestTest' --tests \"org.elasticsearch.xpack.ilm.actions.RollupActionIT.testRollupIndexAndSetNewRollupPolicy\" -Dtests.seed=625E2AA249E4FA -Dtests.security.manager=true -Dtests.locale=nb-NO -Dtests.timezone=Australia/Hobart -Druntime.java=11`\r\n\r\n**Reproduces locally?**: No \r\n\r\n**Applicable branches**: master, 7.x, 7.12\r\n\r\n**Failure history**: ~9 failures in the last month. See [build stats](https://build-stats.elastic.co/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-6M,mode:quick,to:now))&_a=(columns:!(project,branch),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:e58bf320-7efd-11e8-bf69-63c8ef516157,key:project,negate:!f,params:(query:elasticsearch,type:phrase),type:phrase,value:elasticsearch),query:(match:(project:(query:elasticsearch,type:phrase)))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:e58bf320-7efd-11e8-bf69-63c8ef516157,key:test,negate:!f,params:(query:testRollupIndexAndSetNewRollupPolicy,type:phrase),type:phrase,value:testRollupIndexAndSetNewRollupPolicy),query:(match:(test:(query:testRollupIndexAndSetNewRollupPolicy,type:phrase))))),index:e58bf320-7efd-11e8-bf69-63c8ef516157,interval:auto,query:(language:lucene,query:'message:%20%22failed%20to%20delete%20policy%22'),sort:!(time,desc))).\r\n\r\n**Failure excerpt**:\r\n```\r\njava.lang.RuntimeException: failed to delete policy: policy-HLide\r\n\r\nCaused by: org.elasticsearch.client.ResponseException: method [DELETE], host [http://[::1]:64566], URI [/_ilm/policy/policy-HLide], status line [HTTP/1.1 400 Bad Request] | \u00a0\r\n\u00a0 | {\"error\":{\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"Cannot delete policy [policy-HLide]. It is in use by one or more indices: [index-ylgpfvwlhu, rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a]\"}],\"type\":\"illegal_argument_exception\",\"reason\":\"Cannot delete policy [policy-HLide]. It is in use by one or more indices: [index-ylgpfvwlhu, rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a]\"},\"status\":400}\r\n\r\n```\r\n\r\n", "bodyHTML": "<p><strong>Build scan</strong>: <a rel=\"nofollow\" href=\"https://gradle-enterprise.elastic.co/s/4et32nzkiu5sc\">https://gradle-enterprise.elastic.co/s/4et32nzkiu5sc</a></p>\n<p><strong>Repro line</strong>: <code>./gradlew ':x-pack:plugin:ilm:qa:multi-node:javaRestTest' --tests \"org.elasticsearch.xpack.ilm.actions.RollupActionIT.testRollupIndexAndSetNewRollupPolicy\" -Dtests.seed=625E2AA249E4FA -Dtests.security.manager=true -Dtests.locale=nb-NO -Dtests.timezone=Australia/Hobart -Druntime.java=11</code></p>\n<p><strong>Reproduces locally?</strong>: No</p>\n<p><strong>Applicable branches</strong>: master, 7.x, 7.12</p>\n<p><strong>Failure history</strong>: ~9 failures in the last month. See <a href=\"https://build-stats.elastic.co/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-6M,mode:quick,to:now))&amp;_a=(columns:!(project,branch),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:e58bf320-7efd-11e8-bf69-63c8ef516157,key:project,negate:!f,params:(query:elasticsearch,type:phrase),type:phrase,value:elasticsearch),query:(match:(project:(query:elasticsearch,type:phrase)))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:e58bf320-7efd-11e8-bf69-63c8ef516157,key:test,negate:!f,params:(query:testRollupIndexAndSetNewRollupPolicy,type:phrase),type:phrase,value:testRollupIndexAndSetNewRollupPolicy),query:(match:(test:(query:testRollupIndexAndSetNewRollupPolicy,type:phrase))))),index:e58bf320-7efd-11e8-bf69-63c8ef516157,interval:auto,query:(language:lucene,query:'message:%20%22failed%20to%20delete%20policy%22'),sort:!(time,desc))\" rel=\"nofollow\">build stats</a>.</p>\n<p><strong>Failure excerpt</strong>:</p>\n<pre><code>java.lang.RuntimeException: failed to delete policy: policy-HLide\n\nCaused by: org.elasticsearch.client.ResponseException: method [DELETE], host [http://[::1]:64566], URI [/_ilm/policy/policy-HLide], status line [HTTP/1.1 400 Bad Request] | \u00a0\n\u00a0 | {\"error\":{\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"Cannot delete policy [policy-HLide]. It is in use by one or more indices: [index-ylgpfvwlhu, rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a]\"}],\"type\":\"illegal_argument_exception\",\"reason\":\"Cannot delete policy [policy-HLide]. It is in use by one or more indices: [index-ylgpfvwlhu, rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a]\"},\"status\":400}\n\n</code></pre>", "bodyText": "Build scan: https://gradle-enterprise.elastic.co/s/4et32nzkiu5sc\nRepro line: ./gradlew ':x-pack:plugin:ilm:qa:multi-node:javaRestTest' --tests \"org.elasticsearch.xpack.ilm.actions.RollupActionIT.testRollupIndexAndSetNewRollupPolicy\" -Dtests.seed=625E2AA249E4FA -Dtests.security.manager=true -Dtests.locale=nb-NO -Dtests.timezone=Australia/Hobart -Druntime.java=11\nReproduces locally?: No\nApplicable branches: master, 7.x, 7.12\nFailure history: ~9 failures in the last month. See build stats.\nFailure excerpt:\njava.lang.RuntimeException: failed to delete policy: policy-HLide\n\nCaused by: org.elasticsearch.client.ResponseException: method [DELETE], host [http://[::1]:64566], URI [/_ilm/policy/policy-HLide], status line [HTTP/1.1 400 Bad Request] | \u00a0\n\u00a0 | {\"error\":{\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"Cannot delete policy [policy-HLide]. It is in use by one or more indices: [index-ylgpfvwlhu, rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a]\"}],\"type\":\"illegal_argument_exception\",\"reason\":\"Cannot delete policy [policy-HLide]. It is in use by one or more indices: [index-ylgpfvwlhu, rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a]\"},\"status\":400}", "assignees": {"edges": []}, "createdAt": "2021-03-03T22:52:27Z", "closed": true, "closedAt": "2021-03-04T09:59:51Z", "lastEditedAt": null, "publishedAt": "2021-03-03T22:52:27Z", "comments": {"totalCount": 3, "edges": [{"node": {"id": "MDEyOklzc3VlQ29tbWVudDc5MDEyOTg2Nw==", "author": {"login": "elasticmachine"}, "body": "Pinging @elastic/es-core-features (Team:Core/Features)", "bodyText": "Pinging @elastic/es-core-features (Team:Core/Features)", "bodyHTML": "<p>Pinging <a class=\"team-mention js-team-mention\" data-error-text=\"Failed to load team members\" data-id=\"3007308\" data-permission-text=\"Team members are private\" data-url=\"/orgs/elastic/teams/es-core-features/members\" data-hovercard-type=\"team\" data-hovercard-url=\"/orgs/elastic/teams/es-core-features/hovercard\" href=\"https://github.com/orgs/elastic/teams/es-core-features\">@elastic/es-core-features</a> (Team:Core/Features)</p>", "createdAt": "2021-03-03T22:52:29Z", "publishedAt": "2021-03-03T22:52:29Z", "lastEditedAt": null, "updatedAt": "2021-03-03T22:52:29Z", "reactions": {"edges": []}, "bodyParsed": [{"number": 50209, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Pinging @elastic/es-core-features (Team:Core/Features)", "sentSegmented": ["pinging", "elastic/es-core-features", "team", "core/features"], "sentSegmentedWithoutStops": ["pinging", "elastic/es-core-features", "team", "core/features"], "sentSegmentedWithoutStopsStemmed": ["ping", "elastic/es-core-featur", "team", "core/featur"]}]}}, {"node": {"id": "MDEyOklzc3VlQ29tbWVudDc5MDQ5MDgyMQ==", "author": {"login": "andreidan"}, "body": "Closing this as a duplicate of https://github.com/elastic/elasticsearch/issues/68609 (@talevy is already looking into the failure)", "bodyText": "Closing this as a duplicate of #68609 (@talevy is already looking into the failure)", "bodyHTML": "<p>Closing this as a duplicate of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"802433223\" data-permission-text=\"Title is private\" data-url=\"https://github.com/elastic/elasticsearch/issues/68609\" data-hovercard-type=\"issue\" data-hovercard-url=\"/elastic/elasticsearch/issues/68609/hovercard\" href=\"https://github.com/elastic/elasticsearch/issues/68609\">#68609</a> (<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/talevy/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/talevy\">@talevy</a> is already looking into the failure)</p>", "createdAt": "2021-03-04T09:59:51Z", "publishedAt": "2021-03-04T09:59:51Z", "lastEditedAt": null, "updatedAt": "2021-03-04T09:59:51Z", "reactions": {"edges": []}, "bodyParsed": [{"number": 50210, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Closing this as a duplicate of #68609 (@talevy is already looking into the failure)", "sentSegmented": ["closing", "this", "as", "a", "duplicate", "of", "68609", "talevy", "is", "already", "looking", "into", "the", "failure"], "sentSegmentedWithoutStops": ["closing", "duplicate", "68609", "talevy", "already", "looking", "failure"], "sentSegmentedWithoutStopsStemmed": ["close", "duplic", "68609", "talevi", "alreadi", "look", "failur"]}]}}, {"node": {"id": "MDEyOklzc3VlQ29tbWVudDc5MDYzMzYzOQ==", "author": {"login": "danhermann"}, "body": "Thanks for updating this, @andreidan. I missed the existing issue while triaging it.", "bodyText": "Thanks for updating this, @andreidan. I missed the existing issue while triaging it.", "bodyHTML": "<p>Thanks for updating this, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/andreidan/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andreidan\">@andreidan</a>. I missed the existing issue while triaging it.</p>", "createdAt": "2021-03-04T13:53:42Z", "publishedAt": "2021-03-04T13:53:42Z", "lastEditedAt": null, "updatedAt": "2021-03-04T13:53:42Z", "reactions": {"edges": []}, "bodyParsed": [{"number": 50211, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Thanks for updating this, @andreidan.", "sentSegmented": ["thanks", "for", "updating", "this", "andreidan"], "sentSegmentedWithoutStops": ["thanks", "updating", "andreidan"], "sentSegmentedWithoutStopsStemmed": ["thank", "updat", "andreidan"]}, {"number": 50212, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "I missed the existing issue while triaging it.", "sentSegmented": ["i", "missed", "the", "existing", "issue", "while", "triaging", "it"], "sentSegmentedWithoutStops": ["missed", "existing", "issue", "triaging"], "sentSegmentedWithoutStopsStemmed": ["miss", "exist", "issu", "triag"]}]}}], "pageInfo": {"endCursor": "Y3Vyc29yOnYyOpHOLyAcpw==", "hasNextPage": false}}, "labels": {"edges": [{"node": {"createdAt": "2018-04-24T20:16:54Z", "name": ":Core/Features/ILM+SLM"}}, {"node": {"createdAt": "2014-11-17T10:22:04Z", "name": ">test-failure"}}, {"node": {"createdAt": "2020-04-07T01:58:44Z", "name": "Team:Core/Features"}}]}, "milestone": null, "reactions": {"edges": []}, "state": "CLOSED", "titleSegmented": ["failures", "in", "rollupactionit.testrollupindexandsetnewrolluppolicy"], "titleSegmentedWithoutStops": ["failures", "rollupactionit.testrollupindexandsetnewrolluppolicy"], "titleSegmentedWithoutStopsStemmed": ["failur", "rollupactionit.testrollupindexandsetnewrolluppolici"], "bodyParsed": [{"number": 50198, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Build scan: https://gradle-enterprise.elastic.co/s/4et32nzkiu5sc", "sentSegmented": ["build", "scan", "https", "//gradle-enterprise.elastic.co/s/4et32nzkiu5sc"], "sentSegmentedWithoutStops": ["build", "scan", "https", "//gradle-enterprise.elastic.co/s/4et32nzkiu5sc"], "sentSegmentedWithoutStopsStemmed": ["build", "scan", "http", "//gradle-enterprise.elastic.co/s/4et32nzkiu5sc"]}, {"number": 50199, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Repro line: ./gradlew ':x-pack:plugin:ilm:qa:multi-node:javaRestTest' --tests \"org.elasticsearch.xpack.ilm.actions.RollupActionIT.testRollupIndexAndSetNewRollupPolicy\" -Dtests.seed=625E2AA249E4FA -Dtests.security.manager=true -Dtests.locale=nb-NO -Dtests.timezone=Australia/Hobart -Druntime.java=11", "sentSegmented": ["repro", "line", "./gradlew", "x-pack", "plugin", "ilm", "qa", "multi-node", "javaresttest", "tests", "org.elasticsearch.xpack.ilm.actions.rollupactionit.testrollupindexandsetnewrolluppolicy", "-dtests.seed=625e2aa249e4fa", "-dtests.security.manager=true", "-dtests.locale=nb-no", "-dtests.timezone=australia/hobart", "-druntime.java=11"], "sentSegmentedWithoutStops": ["repro", "line", "./gradlew", "x-pack", "plugin", "ilm", "qa", "multi-node", "javaresttest", "tests", "org.elasticsearch.xpack.ilm.actions.rollupactionit.testrollupindexandsetnewrolluppolicy", "-dtests.seed=625e2aa249e4fa", "-dtests.security.manager=true", "-dtests.locale=nb-no", "-dtests.timezone=australia/hobart", "-druntime.java=11"], "sentSegmentedWithoutStopsStemmed": ["repro", "line", "./gradlew", "x-pack", "plugin", "ilm", "qa", "multi-nod", "javaresttest", "test", "org.elasticsearch.xpack.ilm.actions.rollupactionit.testrollupindexandsetnewrolluppolici", "-dtests.seed=625e2aa249e4fa", "-dtests.security.manager=tru", "-dtests.locale=nb-no", "-dtests.timezone=australia/hobart", "-druntime.java=11"]}, {"number": 50200, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Reproduces locally?", "sentSegmented": ["reproduces", "locally"], "sentSegmentedWithoutStops": ["reproduces", "locally"], "sentSegmentedWithoutStopsStemmed": ["reproduc", "local"]}, {"number": 50201, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": ": No", "sentSegmented": ["no"], "sentSegmentedWithoutStops": [], "sentSegmentedWithoutStopsStemmed": []}, {"number": 50202, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Applicable branches: master, 7.x, 7.12", "sentSegmented": ["applicable", "branches", "master", "7.x", "7.12"], "sentSegmentedWithoutStops": ["applicable", "branches", "master", "7.x", "7.12"], "sentSegmentedWithoutStopsStemmed": ["applic", "branch", "master", "7.x", "7.12"]}, {"number": 50203, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Failure history: ~9 failures in the last month.", "sentSegmented": ["failure", "history", "~9", "failures", "in", "the", "last", "month"], "sentSegmentedWithoutStops": ["failure", "history", "~9", "failures", "last", "month"], "sentSegmentedWithoutStopsStemmed": ["failur", "histori", "~9", "failur", "last", "month"]}, {"number": 50204, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "See build stats.", "sentSegmented": ["see", "build", "stats"], "sentSegmentedWithoutStops": ["see", "build", "stats"], "sentSegmentedWithoutStopsStemmed": ["see", "build", "stat"]}, {"number": 50205, "isCode": false, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Failure excerpt:", "sentSegmented": ["failure", "excerpt"], "sentSegmentedWithoutStops": ["failure", "excerpt"], "sentSegmentedWithoutStopsStemmed": ["failur", "excerpt"]}, {"number": 50206, "isCode": true, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "java.lang.RuntimeException: failed to delete policy: policy-HLide", "sentSegmented": ["java.lang.runtimeexception", "failed", "to", "delete", "policy", "policy-hlide"], "sentSegmentedWithoutStops": ["java.lang.runtimeexception", "failed", "policy", "policy-hlide"], "sentSegmentedWithoutStopsStemmed": ["java.lang.runtimeexcept", "fail", "polici", "policy-hlid"]}, {"number": 50207, "isCode": true, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "Caused by: org.elasticsearch.client.ResponseException: method [DELETE], host [http://[::1]:64566], URI [/_ilm/policy/policy-HLide], status line [HTTP/1.1 400 Bad Request] | \u00a0", "sentSegmented": ["caused", "by", "org.elasticsearch.client.responseexception", "method", "delete", "host", "http", ":1", ":64566", "uri", "/_ilm/policy/policy-hlide", "status", "line", "http/1.1", "400", "bad", "request"], "sentSegmentedWithoutStops": ["caused", "org.elasticsearch.client.responseexception", "method", "host", "http", ":1", ":64566", "uri", "/_ilm/policy/policy-hlide", "status", "line", "http/1.1", "400", "bad", "request"], "sentSegmentedWithoutStopsStemmed": ["caus", "org.elasticsearch.client.responseexcept", "method", "host", "http", ":1", ":64566", "uri", "/_ilm/policy/policy-hlid", "statu", "line", "http/1.1", "400", "bad", "request"]}, {"number": 50208, "isCode": true, "isBlockQuote": false, "blockQuoteDepth": 0, "sent": "\u00a0 | {\"error\":{\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"Cannot delete policy [policy-HLide]. It is in use by one or more indices: [index-ylgpfvwlhu, rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a]\"}],\"type\":\"illegal_argument_exception\",\"reason\":\"Cannot delete policy [policy-HLide]. It is in use by one or more indices: [index-ylgpfvwlhu, rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a]\"},\"status\":400}", "sentSegmented": ["error", "root_cause", "type", "illegal_argument_exception", "reason", "can", "not", "delete", "policy", "policy-hlide", "it", "is", "in", "use", "by", "one", "or", "more", "indices", "index-ylgpfvwlhu", "rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a", "type", "illegal_argument_exception", "reason", "can", "not", "delete", "policy", "policy-hlide", "it", "is", "in", "use", "by", "one", "or", "more", "indices", "index-ylgpfvwlhu", "rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a", "status", ":400"], "sentSegmentedWithoutStops": ["error", "root_cause", "illegal_argument_exception", "reason", "policy", "policy-hlide", "use", "one", "indices", "index-ylgpfvwlhu", "rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a", "illegal_argument_exception", "reason", "policy", "policy-hlide", "use", "one", "indices", "index-ylgpfvwlhu", "rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a", "status", ":400"], "sentSegmentedWithoutStopsStemmed": ["error", "root_caus", "illegal_argument_except", "reason", "polici", "policy-hlid", "use", "one", "indic", "index-ylgpfvwlhu", "rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a", "illegal_argument_except", "reason", "polici", "policy-hlid", "use", "one", "indic", "index-ylgpfvwlhu", "rollup-index-ylgpfvwlhu-tv9-58ajth-vurjsnb1o8a", "statu", ":400"]}]}